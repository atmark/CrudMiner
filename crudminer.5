.\" Man page generated from reStructeredText.
.
.TH CRUDMINER  "2011-10-19" "0.3.2" ""
.SH NAME
CrudMiner \- Find known-vulnerable software in a webroot
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
crudminer.py /path/to/www
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
The idea of CrudMiner came from having inherited a large webserver full
of user\-installed software. As it is nearly always the case, when
clients are allowed to install their own software, they never actually
bother to keep it patched and updated. I wrote CrudMiner with the sole
task of looking for known\-outdated web software and reporting it to me
in a format that was easy to grok and process.
.SH OPTIONS
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.TP
.B \-\-version
.
show program\(aqs version number and exit
.TP
.B \-h,  \-\-help
.
show this help message and exit
.TP
.BI \-\-crudfile\fB= CRUDFILE
.
Location of the crud.ini file (crud.ini).
.TP
.B \-q,  \-\-quiet
.
Do not output anything (usually with \-r or \-m).
.TP
.BI \-r \ CSV, \ \-\-csv\-report\fB= CSV
.
Produce a CSV report and save it in a file.
.TP
.B \-s,  \-\-report\-secure
.
Include secure versions in the report, as well as
vulnerable.
.TP
.BI \-e \ ENV, \ \-\-environment\fB= ENV
.
Only analyze for these environments (php, perl, etc).
Default: all
.TP
.BI \-\-mailopts\fB= MAILOPTS
.
Mail options to use when sending notifications.
.TP
.B \-\-do\-not\-nag
.
Do not nag about anything found during this run.
.UNINDENT
.UNINDENT
.UNINDENT
.SH EXAMPLES
.sp
To run CrudMiner, simply do:
.sp
.nf
.ft C
crudminer.py /path/to/www
.ft P
.fi
.sp
You can start by running it against tests. You probably want to run it
on a periodic basis and notify you of the findings, for which you
probably want to put the following command in your cron scripts:
.sp
.nf
.ft C
crudminer.py \-q \-r /path/to/report.csv /path/to/www
.ft P
.fi
.sp
This will generate a CSV file with the findings, which you can later
mail to yourself.
.sp
If you want to always test against the latest definitions, you can pass
a \fI\-\-crudfile\fP parameter to point to the github location of the
\fIcrud.ini\fP file:
.sp
.nf
.ft C
crudminer.py \e
    \-\-crudfile=https://raw.github.com/mricon/CrudMiner/master/crud.ini \e
    /path/to/www
.ft P
.fi
.SS Nagging
.sp
Additionally, you can generate a simple \fImailmap.ini\fP file with a
mapping of paths to hostnames and admin email addresses. This will allow
you to automatically nag owners of sites to update their software. Not
that this is very effective, but it helps shift the blame:
.sp
.nf
.ft C
crudminer.py \-q \e
    \-\-mailopts=/path/to/mailopts.ini \e
    /path/to/www
.ft P
.fi
.sp
See the provided example of the \fImailopts.ini\fP for more info. No nagging
will be done as long as \fBmailmap.ini\fP is empty.
.sp
If you want to disable nagging for a specific path, (e.g. if there are
legitimate reasons for a specific version of the software to be
installed, or if there is a global .htaccess that prevents any
exploitation of said software), you may run the following:
.sp
.nf
.ft C
crudminer.py \-\-do\-not\-nag /path/to/ignore
.ft P
.fi
.sp
This will stop nagging as long as the version of the installed software
remains the same. If new vulnerable software is found or if the
installed version of the software changes, the nagging will recommence.
.SH FURTHER WORK
.sp
As you can tell, this is fairly early in the development. You should
check out the TODO file to see what is planned for the future.
.SH AUTHOR
konstantin.ryabitsev@mcgill.ca

License: GPLv3
.SH COPYRIGHT
McGill University
.\" Generated by docutils manpage writer.
.\" 
.
